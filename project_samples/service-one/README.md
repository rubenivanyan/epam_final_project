
# Service One

## Use case

A simple application that generates UUID every minute and updates the same in mongo database. It also stores the UUID value generated by the other service in its database asynchronously by Rabbit MQ.

### Architechture

![alt tag](./doc/architecture/service-one%20(default).png?raw=true)

### Prerequisites

- A MongoDB database, RabbitMQ, and Consul should be up and running and reachable for the application.
- Java 8 and Maven should be installed to build and run the application.

### Configuration

The configuration file for the application is located at `src/main/resources/application.yml`.

#### Consul

- Replace `<CONSUL_HOST>` with the hostname of Consul.
- Replace `<HOSTNAME>` with the hostname that runs the application. **NOTE**: This hostname should be resolvable and reachable by Consul, so if the application is behind a load balancer, the value of the `hostName` option should be the DNS name of the load balancer.

#### MongoDB

- Replace `<MONGODB_HOST>` with the values of MongoDB hostname.

#### RabbitMQ

- Replace `<RABBITMQ_HOST>`, `<RABBITMQ_USER>` and `<RABBITMQ_PASSOWRD>` with the values of RabbitMQ hostname, username and password correspondingly.

### Build

Execute `mvn clean package` while in the project root directory (the directory that contains the `pom.xml` file) to build the package. This will generate a file `./target/service-one.jar`.

### Run

Execute `java -Xmx256m -Xss32m -Djava.security.egd=file:/dev/urandom -jar /path/to/service-one.jar`.

> Please, note that ideally your service should be started via SystemD

### Technology

Microservices sample project uses a number of open source projects to work properly:

* [SpringBoot] - Application framework
* [Consul] - Registration and Discovery
* [Docker] - Containerization platform
* [Project Reactor] - Reactive Systems
* [MongoDB] - Document based Database
* [Swagger] - API Documentation
* [Rabbit MQ] - Message Broker
* [Logstash] - Log Collector
* [Lombok] - Simplifying POJOs

### Tools

* [Java] - Programming
* [Maven] - Build
* [Git] - Version control
* [Docker] - Deployment

### Extras

##### Swagger UI

http://localhost:8082/swagger-ui.html

![alt tag](./doc/tools/swagger.png?raw=true)

##### Embedded MongoDB

Access the database through a mongodb client.

![alt tag](./doc/tools/mongodb-login.png?raw=true)

![alt tag](./doc/tools/mongodb.png?raw=true)


### Help

Feel free to reach "vijayendrap@gmail.com" in-case of any concerns.

[//]: # (These are reference links used in the body of this note and get stripped out when the markdown processor does its job.)

   [SpringBoot]: <https://projects.spring.io/spring-boot/>
   [Consul]: <https://www.consul.io>
   [Project Reactor]: <https://projectreactor.io/>
   [Docker]: <https://www.docker.com>
   [Maven]: <https://maven.apache.org>
   [Git]: <https://git-scm.com>
   [Java]: <https://go.java>
   [Rabbit MQ]: <https://www.rabbitmq.com/>
   [Swagger]: <https://swagger.io/>
   [Logstash]: <https://www.elastic.co/products/logstash>
   [MongoDB]: <https://www.mongodb.com/>
   [Lombok]: <https://projectlombok.org/>
